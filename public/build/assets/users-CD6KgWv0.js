import{r as m,o as Z,j as q,bO as J,aL as K,K as i,$ as d,u as l,S as M,Z as V,J as p,bP as Q,L as e,X as f,Y as a,W as B,U as c,aP as g,bT as W,ai as U,as as D,a0 as X,M as G}from"./vue-x-iQoTBr.js";import{_ as ee}from"./AdminLayout-DI777LZF.js";import{_ as y}from"./InputError-BQ3Bnwbl.js";import{d as E,S as z}from"./vendor-DaxBAlbS.js";import"./axios-B573XCF3.js";import"./ApplicationLogo-w-b1xY1C.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-DGhkVnCP.js";const te={class:"relative z-0 w-full mb-5 group"},re={class:"relative z-0 w-full mb-5 group"},se={class:"relative z-0 w-full mb-5 group"},oe={class:"relative z-0 w-full mb-5 group"},le={class:"relative z-0 w-full mb-5 group"},ae={class:"relative z-0 w-full mb-5 group"},ne={class:"py-5"},de={class:"bg-white dark:bg-gray-800 relative shadow-md sm:rounded-lg"},ue={class:"flex flex-col md:flex-row items-center justify-between space-y-3 md:space-y-0 md:space-x-4 p-4"},ie={class:"w-full md:w-1/2"},pe={class:"relative w-full"},ce={class:"overflow-x-auto"},me={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},fe={key:0},be={scope:"row",class:"px-4 py-3 font-medium text-gray-900 whitespace-nowrap dark:text-white"},ge={class:"px-4 py-3"},ye={class:"px-4 py-3"},xe={class:"px-4 py-3"},ve={class:"px-4 py-3 flex items-center justify-end"},we=["onClick","id"],he=["id"],ke=["aria-labelledby"],Ce=["onClick"],Se=["onClick"],Ve=["onClick"],Ue={key:0},ze={class:"flex flex-col md:flex-row justify-between items-start md:items-center space-y-3 md:space-y-0 p-4","aria-label":"Table navigation"},Me={class:"text-sm font-normal text-gray-500 dark:text-gray-400"},Be={class:"font-semibold text-gray-900 dark:text-white"},Ee={class:"font-semibold text-gray-900 dark:text-white"},Te={class:"inline-flex items-stretch -space-x-px"},Ae=["innerHTML","onClick"],Fe={__name:"users",props:{users:Object,search:String},setup(u){const x=m(u.search);function $(){E.Inertia.get(route("admin.users"),{search:x.value},{preserveState:!0})}function j(){x.value===""&&E.Inertia.get(route("admin.users"),{},{preserveState:!0})}function N(o){o&&E.Inertia.get(o,{search:x.value},{preserveState:!0})}const P=o=>{n.value=o,z.fire({title:"Are you sure?",text:`You are about to delete ${o.name}. This action cannot be undone!`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"}).then(t=>{t.isConfirmed&&L(o)})},L=o=>{s.delete(route("users.destroy",o.id),{onSuccess:()=>{z.fire("Deleted!",`User ${o.name} has been deleted.`,"success")}})},v=m({}),b=m(null);function I(o){v.value[o]=!v.value[o],b.value=v.value[o]?o:null}function O(){b.value!==null&&(v.value[b.value]=!1,b.value=null)}function T(o){const t=document.getElementById("dropdown-"+b.value),S=document.getElementById("dropdown-button-"+b.value);t&&!t.contains(o.target)&&!S.contains(o.target)&&O()}Z(()=>{document.addEventListener("click",T)}),q(()=>{document.removeEventListener("click",T)});const k=m(!1),w=m(!1),n=m(null),s=J({name:"",email:"",role:"",password:"",phone:"",address:""}),R=()=>{k.value=!0,w.value=!0,s.reset()},_=o=>{k.value=!1,w.value=!0,n.value=o,s.name=o.name,s.email=o.email,s.role=o.role,s.phone=o.phone,s.address=o.address},F=()=>{k.value?s.post(route("users.store"),{onSuccess:()=>{A(),z.fire({title:"Success!",text:"User has been created successfully.",icon:"success",toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0})}}):s.patch(route("users.update",n.value.id),{onSuccess:()=>{A(),z.fire({title:"Success!",text:"User has been updated successfully.",icon:"success",toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0})}})},A=()=>{w.value=!1,s.reset(),n.value=null},C=m(!1),Y=o=>{n.value=o,C.value=!0},H=()=>{C.value=!1};return(o,t)=>{const S=K("el-dialog");return p(),i(V,null,[d(l(Q),{title:"Admin Dashboard"}),d(S,{modelValue:C.value,"onUpdate:modelValue":t[0]||(t[0]=r=>C.value=r),title:"View User",width:"500",onClose:H},{default:M(()=>[n.value?(p(),i(V,{key:0},[e("p",null,[t[9]||(t[9]=e("strong",null,"Full Name:",-1)),f(" "+a(n.value.name),1)]),e("p",null,[t[10]||(t[10]=e("strong",null,"Email:",-1)),f(" "+a(n.value.email),1)]),e("p",null,[t[11]||(t[11]=e("strong",null,"Role:",-1)),f(" "+a(n.value.role),1)]),e("p",null,[t[12]||(t[12]=e("strong",null,"Phone:",-1)),f(" "+a(n.value.phone),1)]),e("p",null,[t[13]||(t[13]=e("strong",null,"Address:",-1)),f(" "+a(n.value.address),1)])],64)):B("",!0)]),_:1},8,["modelValue"]),d(S,{modelValue:w.value,"onUpdate:modelValue":t[7]||(t[7]=r=>w.value=r),title:k.value?"Add User":"Edit User",width:"500","before-close":o.handleClose},{default:M(()=>[e("form",{onSubmit:U(F,["prevent"]),class:"max-w-md mx-auto"},[e("div",te,[c(e("input",{id:"name",type:"text",class:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",name:"name","onUpdate:modelValue":t[1]||(t[1]=r=>l(s).name=r),autofocus:"",autocomplete:"name",placeholder:" "},null,512),[[g,l(s).name]]),d(y,{class:"mt-1",message:l(s).errors.name},null,8,["message"]),t[14]||(t[14]=e("label",{for:"name",class:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"},"Full name",-1))]),e("div",re,[c(e("input",{type:"email",name:"email",id:"email",class:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ","onUpdate:modelValue":t[2]||(t[2]=r=>l(s).email=r),autofocus:"",autocomplete:"email"},null,512),[[g,l(s).email]]),d(y,{class:"mt-1",message:l(s).errors.email},null,8,["message"]),t[15]||(t[15]=e("label",{for:"email",class:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"},"Email address",-1))]),e("div",se,[t[17]||(t[17]=e("label",{for:"role",class:"block mb-2 text-sm font-medium text-gray-500 dark:text-white"},"Select role",-1)),c(e("select",{id:"role","onUpdate:modelValue":t[3]||(t[3]=r=>l(s).role=r),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},t[16]||(t[16]=[e("option",{value:""},"Choose role",-1),e("option",{value:"doctor"},"DOCTOR",-1),e("option",{value:"patient"},"PATIENT",-1),e("option",{value:"admin"},"ADMIN",-1)]),512),[[W,l(s).role]]),d(y,{class:"mt-1",message:l(s).errors.role},null,8,["message"])]),e("div",oe,[c(e("input",{type:"password",name:"floating_password",id:"password","onUpdate:modelValue":t[4]||(t[4]=r=>l(s).password=r),class:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" "},null,512),[[g,l(s).password]]),d(y,{class:"mt-1",message:l(s).errors.password},null,8,["message"]),t[18]||(t[18]=e("label",{for:"floating_password",class:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"},"Password",-1))]),e("div",le,[c(e("input",{type:"text",name:"phone",id:"phone","onUpdate:modelValue":t[5]||(t[5]=r=>l(s).phone=r),class:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" "},null,512),[[g,l(s).phone]]),d(y,{class:"mt-1",message:l(s).errors.phone},null,8,["message"]),t[19]||(t[19]=e("label",{for:"phone",class:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"},"Contact no.",-1))]),e("div",ae,[c(e("input",{type:"text",name:"address",id:"address","onUpdate:modelValue":t[6]||(t[6]=r=>l(s).address=r),class:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" "},null,512),[[g,l(s).address]]),d(y,{class:"mt-1",message:l(s).errors.address},null,8,["message"]),t[20]||(t[20]=e("label",{for:"address",class:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"},"Address",-1))]),t[21]||(t[21]=e("button",{type:"submit",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Submit ",-1))],32)]),_:1},8,["modelValue","title","before-close"]),d(ee,null,{default:M(()=>[e("div",ne,[t[32]||(t[32]=e("div",{class:"w-full text-sm text-left text-gray-500 dark:text-gray-400 mb-2"}," USERS ",-1)),e("div",de,[e("div",ue,[e("div",ie,[e("form",{onSubmit:U($,["prevent"]),class:"flex items-center"},[t[23]||(t[23]=e("label",{for:"simple-search",class:"sr-only"},"Search",-1)),e("div",pe,[t[22]||(t[22]=e("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[e("svg",{"aria-hidden":"true",class:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),c(e("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=r=>x.value=r),id:"simple-search",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full pl-10 p-2 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Search",required:"",onInput:j},null,544),[[g,x.value]])])],32)]),e("div",{class:"w-full md:w-auto flex flex-col md:flex-row space-y-2 md:space-y-0 items-stretch md:items-center justify-end md:space-x-3 flex-shrink-0"},[e("button",{type:"button",onClick:R,class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"}," Add User ")])]),e("div",ce,[e("table",me,[t[29]||(t[29]=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{scope:"col",class:"px-4 py-3"},"#"),e("th",{scope:"col",class:"px-4 py-3"},"Email"),e("th",{scope:"col",class:"px-4 py-3"}," Address "),e("th",{scope:"col",class:"px-4 py-3"}," Registered Date "),e("th",{scope:"col",class:"px-4 py-3 flex items-center justify-end"}," Actions ")])],-1)),e("tbody",null,[u.users.data.length===0?(p(),i("tr",fe,t[24]||(t[24]=[e("td",{colspan:"5",class:"text-center text-gray-500"}," Nothing found ",-1)]))):B("",!0),(p(!0),i(V,null,D(u.users.data,r=>(p(),i("tr",{key:r.id,class:"border-b dark:border-gray-700"},[e("th",be,a(r.id),1),e("td",ge,a(r.email),1),e("td",ye,a(r.address),1),e("td",xe,a(r.created_at),1),e("td",ve,[e("button",{onClick:h=>I(r.id),id:"dropdown-button-"+r.id,class:"inline-flex items-center p-0.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100",type:"button"},t[25]||(t[25]=[e("svg",{class:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"})],-1)]),8,we),c(e("div",{id:"dropdown-"+r.id,class:"absolute right-0 mt-36 z-10 w-12 bg-white rounded-lg shadow-lg divide-y divide-gray-100 dark:bg-gray-700 dark:divide-gray-600 border border-gray-200"},[e("ul",{class:"py-1 text-sm text-gray-700 dark:text-gray-200","aria-labelledby":"dropdown-button-"+r.id},[e("li",null,[e("a",{onClick:U(h=>Y(r),["prevent"]),href:"#",class:"block py-2 px-4 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},t[26]||(t[26]=[e("i",{class:"fas fa-eye text-blue-500"},null,-1)]),8,Ce)]),e("li",null,[e("button",{class:"block py-2 px-4 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white",type:"button",onClick:h=>_(r)},t[27]||(t[27]=[e("i",{class:"fas fa-edit text-green-500"},null,-1)]),8,Se)]),e("li",null,[e("button",{class:"block py-2 px-4 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white",type:"button",onClick:h=>P(r)},t[28]||(t[28]=[e("i",{class:"fas fa-trash text-red-500"},null,-1)]),8,Ve)])],8,ke)],8,he),[[X,v.value[r.id]]])])]))),128))])]),u.users.links.length>1?(p(),i("div",Ue,[e("nav",ze,[e("span",Me,[t[30]||(t[30]=f(" Showing ")),e("span",Be,a(u.users.from)+"-"+a(u.users.to),1),t[31]||(t[31]=f(" of ")),e("span",Ee,a(u.users.total),1)]),e("ul",Te,[(p(!0),i(V,null,D(u.users.links,(r,h)=>(p(),i("li",{key:h},[e("a",{href:"#",class:G(["flex items-center justify-center text-sm py-2 px-3 leading-tight border",r.active?"bg-primary-50 text-primary-600 border-primary-300 hover:bg-primary-100":"text-gray-500 bg-white border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"]),innerHTML:r.label,onClick:U($e=>N(r.url),["prevent"])},null,10,Ae)]))),128))])])])):B("",!0)])])])]),_:1})],64)}}};export{Fe as default};
